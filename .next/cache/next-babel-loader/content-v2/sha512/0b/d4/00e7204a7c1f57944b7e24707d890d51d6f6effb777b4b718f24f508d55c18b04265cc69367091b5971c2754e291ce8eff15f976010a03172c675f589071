{"ast":null,"code":"import _regeneratorRuntime from \"F:/github/nextjs/chalenge-wiser-react-ts/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"F:/github/nextjs/chalenge-wiser-react-ts/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport api from '../../services/api';\nimport { signin } from '../ducks/account';\nimport { number } from 'yup/lib/locale';\nexport var authLogin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", function (dispatch) {\n              dispatch({\n                payload: number,\n                type: 'SIGNIN_REQUEST'\n              });\n              api.post('/account/signin', user).then(function (res) {\n                localStorage.setItem('wiser-token', res.data.token);\n                dispatch(signin()); //router.push('dashboard');\n              })[\"catch\"](function (error) {\n                var message = error.response.data.message;\n                dispatch({\n                  payload: number,\n                  type: 'SIGNIN_FAILED'\n                });\n              });\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function authLogin(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["F:/github/nextjs/chalenge-wiser-react-ts/src/store/fetchActions/accountActions.ts"],"names":["api","signin","number","authLogin","user","dispatch","payload","type","post","then","res","localStorage","setItem","data","token","error","message","response"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,SAASC,MAAT,QAAuB,kBAAvB;AAGA,SAASC,MAAT,QAAuB,gBAAvB;AAEA,OAAO,IAAMC,SAAS;AAAA,sEAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA,6CAGjB,UAACC,QAAD,EAAe;AAErBA,cAAAA,QAAQ,CAAC;AACRC,gBAAAA,OAAO,EAAGJ,MADF;AAERK,gBAAAA,IAAI,EAAE;AAFE,eAAD,CAAR;AAKAP,cAAAA,GAAG,CACDQ,IADF,CACO,iBADP,EAC0BJ,IAD1B,EAEEK,IAFF,CAEO,UAACC,GAAD,EAAS;AACdC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,GAAG,CAACG,IAAJ,CAASC,KAA7C;AACAT,gBAAAA,QAAQ,CAACJ,MAAM,EAAP,CAAR,CAFc,CAId;AACA,eAPF,WAQQ,UAACc,KAAD,EAAW;AAAA,oBACTC,OADS,GACGD,KAAK,CAACE,QAAN,CAAeJ,IADlB,CACTG,OADS;AAEjBX,gBAAAA,QAAQ,CAAC;AACRC,kBAAAA,OAAO,EAAGJ,MADF;AAERK,kBAAAA,IAAI,EAAE;AAFE,iBAAD,CAAR;AAIA,eAdF;AAeA,aAzBuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATJ,SAAS;AAAA;AAAA;AAAA,GAAf","sourcesContent":["import api from '../../services/api';\r\nimport { signin } from '../ducks/account';\r\nimport { addMessage } from '../ducks/layout';\r\nimport { useRouter } from 'next/router'\r\nimport { number } from 'yup/lib/locale';\r\n\r\nexport const authLogin = async (user) => {\r\n\t//const router = useRouter()\r\n\r\n\treturn (dispatch)  => {\r\n\r\n\t\tdispatch({\r\n\t\t\tpayload : number,\r\n\t\t\ttype: 'SIGNIN_REQUEST'\r\n\t\t  })\r\n\r\n\t\tapi\r\n\t\t\t.post('/account/signin', user)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('wiser-token', res.data.token);\r\n\t\t\t\tdispatch(signin());\r\n\r\n\t\t\t\t//router.push('dashboard');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconst { message } = error.response.data;\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\tpayload : number,\r\n\t\t\t\t\ttype: 'SIGNIN_FAILED'\r\n\t\t\t\t  })\r\n\t\t\t});\r\n\t};\r\n};"]},"metadata":{},"sourceType":"module"}