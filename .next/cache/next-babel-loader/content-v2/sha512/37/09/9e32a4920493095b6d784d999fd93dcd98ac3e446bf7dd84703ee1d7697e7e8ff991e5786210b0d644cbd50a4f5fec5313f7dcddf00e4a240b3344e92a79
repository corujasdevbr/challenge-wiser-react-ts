{"ast":null,"code":"import api from '../../services/api';\nimport { signin } from '../ducks/account';\nimport { number } from 'yup/lib/locale';\nexport function bindComments(user) {\n  return function (dispatch) {\n    return api.post('/account/signin', user).then(comments => {\n      // dispatch\n      dispatch(signin());\n    });\n  };\n}\nexport const authLogin = async user => {\n  //const router = useRouter()\n  return dispatch => {\n    dispatch({\n      payload: number,\n      type: 'SIGNIN_REQUEST'\n    });\n    api.post('/account/signin', user).then(res => {\n      localStorage.setItem('wiser-token', res.data.token);\n      dispatch(signin()); //router.push('dashboard');\n    }).catch(error => {\n      const {\n        message\n      } = error.response.data;\n      dispatch({\n        payload: number,\n        type: 'SIGNIN_FAILED'\n      });\n    });\n  };\n};","map":{"version":3,"sources":["F:/github/nextjs/chalenge-wiser-react-ts/src/store/fetchActions/accountActions.ts"],"names":["api","signin","number","bindComments","user","dispatch","post","then","comments","authLogin","payload","type","res","localStorage","setItem","data","token","catch","error","message","response"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,SAASC,MAAT,QAAuB,kBAAvB;AAGA,SAASC,MAAT,QAAuB,gBAAvB;AAEA,OAAO,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AAC/B,SAAO,UAASC,QAAT,EAAmB;AACtB,WAAOL,GAAG,CACbM,IADU,CACL,iBADK,EACcF,IADd,EAEVG,IAFU,CAELC,QAAQ,IAAI;AACV;AACAH,MAAAA,QAAQ,CAACJ,MAAM,EAAP,CAAR;AACH,KALM,CAAP;AAMH,GAPD;AAQH;AAED,OAAO,MAAMQ,SAAS,GAAG,MAAOL,IAAP,IAAgB;AACxC;AAEA,SAAQC,QAAD,IAAe;AAErBA,IAAAA,QAAQ,CAAC;AACRK,MAAAA,OAAO,EAAGR,MADF;AAERS,MAAAA,IAAI,EAAE;AAFE,KAAD,CAAR;AAKAX,IAAAA,GAAG,CACDM,IADF,CACO,iBADP,EAC0BF,IAD1B,EAEEG,IAFF,CAEQK,GAAD,IAAS;AACdC,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,GAAG,CAACG,IAAJ,CAASC,KAA7C;AACAX,MAAAA,QAAQ,CAACJ,MAAM,EAAP,CAAR,CAFc,CAId;AACA,KAPF,EAQEgB,KARF,CAQSC,KAAD,IAAW;AACjB,YAAM;AAAEC,QAAAA;AAAF,UAAcD,KAAK,CAACE,QAAN,CAAeL,IAAnC;AACAV,MAAAA,QAAQ,CAAC;AACRK,QAAAA,OAAO,EAAGR,MADF;AAERS,QAAAA,IAAI,EAAE;AAFE,OAAD,CAAR;AAIA,KAdF;AAeA,GAtBD;AAuBA,CA1BM","sourcesContent":["import api from '../../services/api';\r\nimport { signin } from '../ducks/account';\r\nimport { addMessage } from '../ducks/layout';\r\nimport { useRouter } from 'next/router'\r\nimport { number } from 'yup/lib/locale';\r\n\r\nexport function bindComments(user) {\r\n    return function(dispatch) {\r\n        return api\r\n\t\t\t\t.post('/account/signin', user)\r\n\t\t\t\t.then(comments => {\r\n            // dispatch\r\n            dispatch(signin());\r\n        });\r\n    };\r\n}\r\n\r\nexport const authLogin = async (user) => {\r\n\t//const router = useRouter()\r\n\r\n\treturn (dispatch)  => {\r\n\r\n\t\tdispatch({\r\n\t\t\tpayload : number,\r\n\t\t\ttype: 'SIGNIN_REQUEST'\r\n\t\t  })\r\n\r\n\t\tapi\r\n\t\t\t.post('/account/signin', user)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('wiser-token', res.data.token);\r\n\t\t\t\tdispatch(signin());\r\n\r\n\t\t\t\t//router.push('dashboard');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconst { message } = error.response.data;\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\tpayload : number,\r\n\t\t\t\t\ttype: 'SIGNIN_FAILED'\r\n\t\t\t\t  })\r\n\t\t\t});\r\n\t};\r\n};"]},"metadata":{},"sourceType":"module"}