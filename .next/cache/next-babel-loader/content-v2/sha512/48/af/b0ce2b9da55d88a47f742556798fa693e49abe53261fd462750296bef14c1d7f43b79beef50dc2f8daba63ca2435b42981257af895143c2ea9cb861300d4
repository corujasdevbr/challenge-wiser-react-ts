{"ast":null,"code":"import api from '../../services/api';\nimport { toastr } from 'react-redux-toastr';\nexport const Types = {\n  SIGNIN: \"account/SIGNIN\",\n  SIGNOUT: \"account/SIGNOUT\"\n};\nconst INITIAL_STATE = {\n  isAuthenticated: false\n};\nexport default function account(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case Types.SIGNIN:\n      return api.post('/account/signin', {\n        email: action.payload.email,\n        password: action.payload.password\n      }).then(res => {\n        localStorage.setItem('wiser-token', res.data.token);\n        window.location.pathname = '/add';\n      }).catch(error => {\n        const data = JSON.parse(JSON.stringify(error.response));\n        toastr.error('Conta', data.data.message);\n      });\n      break;\n\n    case Types.SIGNOUT:\n      break;\n\n    default:\n      break;\n  }\n}\nexport const Creators = {\n  signin: (email, password) => ({\n    type: Types.SIGNIN,\n    payload: {\n      email,\n      password\n    }\n  })\n};","map":{"version":3,"sources":["F:/github/nextjs/chalenge-wiser-react-ts/src/store/ducks/account.ts"],"names":["api","toastr","Types","SIGNIN","SIGNOUT","INITIAL_STATE","isAuthenticated","account","state","action","type","post","email","payload","password","then","res","localStorage","setItem","data","token","window","location","pathname","catch","error","JSON","parse","stringify","response","message","Creators","signin"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,OAAO,MAAMC,KAAK,GAAG;AACjBC,EAAAA,MAAM,EAAE,gBADS;AAEjBC,EAAAA,OAAO,EAAE;AAFQ,CAAd;AASP,MAAMC,aAAwB,GAAG;AAC7BC,EAAAA,eAAe,EAAE;AADY,CAAjC;AAIA,eAAe,SAASC,OAAT,CAAiBC,KAAK,GAAGH,aAAzB,EAAwCI,MAAxC,EAAgD;AAC3D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,KAAK,CAACC,MAAX;AAEI,aAAOH,GAAG,CACLW,IADE,CACG,iBADH,EACsB;AAAEC,QAAAA,KAAK,EAAEH,MAAM,CAACI,OAAP,CAAeD,KAAxB;AAA+BE,QAAAA,QAAQ,EAAEL,MAAM,CAACI,OAAP,CAAeC;AAAxD,OADtB,EAEFC,IAFE,CAEGC,GAAG,IAAI;AACTC,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,GAAG,CAACG,IAAJ,CAASC,KAA7C;AAEAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,MAA3B;AACH,OANE,EAOFC,KAPE,CAOIC,KAAK,IAAI;AACZ,cAAMN,IAAI,GAAGO,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,KAAK,CAACI,QAArB,CAAX,CAAb;AACA5B,QAAAA,MAAM,CAACwB,KAAP,CAAa,OAAb,EAAsBN,IAAI,CAACA,IAAL,CAAUW,OAAhC;AACH,OAVE,CAAP;AAYA;;AACJ,SAAK5B,KAAK,CAACE,OAAX;AACI;;AACJ;AACI;AAnBR;AAqBH;AAED,OAAO,MAAM2B,QAAQ,GAAG;AACpBC,EAAAA,MAAM,EAAE,CAACpB,KAAD,EAAQE,QAAR,MAAsB;AAC1BJ,IAAAA,IAAI,EAAER,KAAK,CAACC,MADc;AAE1BU,IAAAA,OAAO,EAAE;AACLD,MAAAA,KADK;AACEE,MAAAA;AADF;AAFiB,GAAtB;AADY,CAAjB","sourcesContent":["import api from '../../services/api';\r\nimport { toastr } from 'react-redux-toastr'\r\n\r\nexport const Types = {\r\n    SIGNIN: \"account/SIGNIN\",\r\n    SIGNOUT: \"account/SIGNOUT\",\r\n}\r\n\r\ninterface IAppState {\r\n    isAuthenticated: boolean;\r\n}\r\n\r\nconst INITIAL_STATE: IAppState = {\r\n    isAuthenticated: false\r\n};\r\n\r\nexport default function account(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case Types.SIGNIN:\r\n\r\n            return api\r\n                .post('/account/signin', { email: action.payload.email, password: action.payload.password })\r\n                .then(res => {\r\n                    localStorage.setItem('wiser-token', res.data.token);\r\n\r\n                    window.location.pathname = '/add';\r\n                })\r\n                .catch(error => {\r\n                    const data = JSON.parse(JSON.stringify(error.response));\r\n                    toastr.error('Conta', data.data.message);\r\n                });\r\n\r\n            break;\r\n        case Types.SIGNOUT:\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport const Creators = {\r\n    signin: (email, password) => ({\r\n        type: Types.SIGNIN,\r\n        payload: {\r\n            email, password\r\n        }\r\n    })\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}