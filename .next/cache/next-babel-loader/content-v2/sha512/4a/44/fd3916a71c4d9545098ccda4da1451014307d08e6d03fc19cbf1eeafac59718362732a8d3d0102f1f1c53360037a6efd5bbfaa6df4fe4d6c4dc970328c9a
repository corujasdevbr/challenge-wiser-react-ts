{"ast":null,"code":"import _regeneratorRuntime from \"F:/github/nextjs/chalenge-wiser-react-ts/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"F:/github/nextjs/chalenge-wiser-react-ts/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport api from '../../services/api';\nimport { signin } from '../ducks/account';\nimport { number } from 'yup/lib/locale';\nexport function bindComments(user) {\n  return function (dispatch) {\n    return api.post('/account/signin', user).then(function (comments) {\n      // dispatch\n      dispatch(signin());\n    });\n  };\n}\nexport var authLogin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", function (dispatch) {\n              dispatch({\n                payload: number,\n                type: 'SIGNIN_REQUEST'\n              });\n              api.post('/account/signin', user).then(function (res) {\n                localStorage.setItem('wiser-token', res.data.token);\n                dispatch(signin()); //router.push('dashboard');\n              })[\"catch\"](function (error) {\n                var message = error.response.data.message;\n                dispatch({\n                  payload: number,\n                  type: 'SIGNIN_FAILED'\n                });\n              });\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function authLogin(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["F:/github/nextjs/chalenge-wiser-react-ts/src/store/fetchActions/accountActions.ts"],"names":["api","signin","number","bindComments","user","dispatch","post","then","comments","authLogin","payload","type","res","localStorage","setItem","data","token","error","message","response"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,SAASC,MAAT,QAAuB,kBAAvB;AAGA,SAASC,MAAT,QAAuB,gBAAvB;AAEA,OAAO,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AAC/B,SAAO,UAASC,QAAT,EAAmB;AACtB,WAAOL,GAAG,CACbM,IADU,CACL,iBADK,EACcF,IADd,EAEVG,IAFU,CAEL,UAAAC,QAAQ,EAAI;AACV;AACAH,MAAAA,QAAQ,CAACJ,MAAM,EAAP,CAAR;AACH,KALM,CAAP;AAMH,GAPD;AAQH;AAED,OAAO,IAAMQ,SAAS;AAAA,sEAAG,iBAAOL,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA,6CAGjB,UAACC,QAAD,EAAe;AAErBA,cAAAA,QAAQ,CAAC;AACRK,gBAAAA,OAAO,EAAGR,MADF;AAERS,gBAAAA,IAAI,EAAE;AAFE,eAAD,CAAR;AAKAX,cAAAA,GAAG,CACDM,IADF,CACO,iBADP,EAC0BF,IAD1B,EAEEG,IAFF,CAEO,UAACK,GAAD,EAAS;AACdC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,GAAG,CAACG,IAAJ,CAASC,KAA7C;AACAX,gBAAAA,QAAQ,CAACJ,MAAM,EAAP,CAAR,CAFc,CAId;AACA,eAPF,WAQQ,UAACgB,KAAD,EAAW;AAAA,oBACTC,OADS,GACGD,KAAK,CAACE,QAAN,CAAeJ,IADlB,CACTG,OADS;AAEjBb,gBAAAA,QAAQ,CAAC;AACRK,kBAAAA,OAAO,EAAGR,MADF;AAERS,kBAAAA,IAAI,EAAE;AAFE,iBAAD,CAAR;AAIA,eAdF;AAeA,aAzBuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATF,SAAS;AAAA;AAAA;AAAA,GAAf","sourcesContent":["import api from '../../services/api';\r\nimport { signin } from '../ducks/account';\r\nimport { addMessage } from '../ducks/layout';\r\nimport { useRouter } from 'next/router'\r\nimport { number } from 'yup/lib/locale';\r\n\r\nexport function bindComments(user) {\r\n    return function(dispatch) {\r\n        return api\r\n\t\t\t\t.post('/account/signin', user)\r\n\t\t\t\t.then(comments => {\r\n            // dispatch\r\n            dispatch(signin());\r\n        });\r\n    };\r\n}\r\n\r\nexport const authLogin = async (user) => {\r\n\t//const router = useRouter()\r\n\r\n\treturn (dispatch)  => {\r\n\r\n\t\tdispatch({\r\n\t\t\tpayload : number,\r\n\t\t\ttype: 'SIGNIN_REQUEST'\r\n\t\t  })\r\n\r\n\t\tapi\r\n\t\t\t.post('/account/signin', user)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('wiser-token', res.data.token);\r\n\t\t\t\tdispatch(signin());\r\n\r\n\t\t\t\t//router.push('dashboard');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconst { message } = error.response.data;\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\tpayload : number,\r\n\t\t\t\t\ttype: 'SIGNIN_FAILED'\r\n\t\t\t\t  })\r\n\t\t\t});\r\n\t};\r\n};"]},"metadata":{},"sourceType":"module"}