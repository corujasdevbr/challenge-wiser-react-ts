{"ast":null,"code":"import api from '../../services/api';\nimport { login } from '../ducks/account';\nimport { addMessage } from '../ducks/layout';\nexport const authLogin = user => {\n  return dispatch => {\n    api.post('/account/signin', user).then(res => {\n      localStorage.setItem('wiser-token', res.data.token);\n      dispatch(login());\n      window.location.pathname = '/dashboard';\n    }).catch(error => {\n      const {\n        message\n      } = error.response.data;\n      dispatch(addMessage());\n    });\n  };\n};","map":{"version":3,"sources":["F:/github/nextjs/chalenge-wiser-react-ts/src/store/fetchActions/accountActions.ts"],"names":["api","login","addMessage","authLogin","user","dispatch","post","then","res","localStorage","setItem","data","token","window","location","pathname","catch","error","message","response"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AAEA,OAAO,MAAMC,SAAS,GAAIC,IAAD,IAAU;AAClC,SAAQC,QAAD,IAAc;AACpBL,IAAAA,GAAG,CACDM,IADF,CACO,iBADP,EAC0BF,IAD1B,EAEEG,IAFF,CAEQC,GAAD,IAAS;AACdC,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,GAAG,CAACG,IAAJ,CAASC,KAA7C;AACAP,MAAAA,QAAQ,CAACJ,KAAK,EAAN,CAAR;AAEAY,MAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,YAA3B;AACA,KAPF,EAQEC,KARF,CAQSC,KAAD,IAAW;AACjB,YAAM;AAAEC,QAAAA;AAAF,UAAcD,KAAK,CAACE,QAAN,CAAeR,IAAnC;AACAN,MAAAA,QAAQ,CAACH,UAAU,EAAX,CAAR;AACA,KAXF;AAYA,GAbD;AAcA,CAfM","sourcesContent":["import api from '../../services/api';\r\nimport { login } from '../ducks/account';\r\nimport { addMessage } from '../ducks/layout';\r\n\r\nexport const authLogin = (user) => {\r\n\treturn (dispatch) => {\r\n\t\tapi\r\n\t\t\t.post('/account/signin', user)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('wiser-token', res.data.token);\r\n\t\t\t\tdispatch(login());\r\n\r\n\t\t\t\twindow.location.pathname = '/dashboard';\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconst { message } = error.response.data;\r\n\t\t\t\tdispatch(addMessage());\r\n\t\t\t});\r\n\t};\r\n};"]},"metadata":{},"sourceType":"module"}