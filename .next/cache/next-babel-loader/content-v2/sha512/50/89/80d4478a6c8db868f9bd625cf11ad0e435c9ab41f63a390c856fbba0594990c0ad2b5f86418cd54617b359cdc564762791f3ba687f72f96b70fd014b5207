{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport api from '../../services/api';\nimport { login } from '../ducks/account';\nimport { addMessage } from '../ducks/layout';\nimport { useRouter } from 'next/router';\nexport var authLogin = function authLogin(user) {\n  _s();\n\n  var router = useRouter();\n  console.log(\"user \".concat(user));\n  return function (dispatch) {\n    api.post('/account/signin', user).then(function (res) {\n      localStorage.setItem('wiser-token', res.data.token);\n      dispatch(login());\n      router.push('dashboard');\n    })[\"catch\"](function (error) {\n      var message = error.response.data.message;\n      dispatch(addMessage());\n    });\n  };\n};\n\n_s(authLogin, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});","map":{"version":3,"sources":["F:/github/nextjs/chalenge-wiser-react-ts/src/store/fetchActions/accountActions.ts"],"names":["api","login","addMessage","useRouter","authLogin","user","router","console","log","dispatch","post","then","res","localStorage","setItem","data","token","push","error","message","response"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAU;AAAA;;AAClC,MAAMC,MAAM,GAAGH,SAAS,EAAxB;AAEAI,EAAAA,OAAO,CAACC,GAAR,gBAAoBH,IAApB;AACA,SAAO,UAACI,QAAD,EAAc;AACpBT,IAAAA,GAAG,CACDU,IADF,CACO,iBADP,EAC0BL,IAD1B,EAEEM,IAFF,CAEO,UAACC,GAAD,EAAS;AACdC,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,GAAG,CAACG,IAAJ,CAASC,KAA7C;AACAP,MAAAA,QAAQ,CAACR,KAAK,EAAN,CAAR;AAEAK,MAAAA,MAAM,CAACW,IAAP,CAAY,WAAZ;AACA,KAPF,WAQQ,UAACC,KAAD,EAAW;AAAA,UACTC,OADS,GACGD,KAAK,CAACE,QAAN,CAAeL,IADlB,CACTI,OADS;AAEjBV,MAAAA,QAAQ,CAACP,UAAU,EAAX,CAAR;AACA,KAXF;AAYA,GAbD;AAcA,CAlBM;;GAAME,S;UACGD,S","sourcesContent":["import api from '../../services/api';\r\nimport { login } from '../ducks/account';\r\nimport { addMessage } from '../ducks/layout';\r\nimport { useRouter } from 'next/router'\r\n\r\nexport const authLogin = (user) => {\r\n\tconst router = useRouter()\r\n\r\n\tconsole.log(`user ${user}`)\r\n\treturn (dispatch) => {\r\n\t\tapi\r\n\t\t\t.post('/account/signin', user)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('wiser-token', res.data.token);\r\n\t\t\t\tdispatch(login());\r\n\r\n\t\t\t\trouter.push('dashboard');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconst { message } = error.response.data;\r\n\t\t\t\tdispatch(addMessage());\r\n\t\t\t});\r\n\t};\r\n};"]},"metadata":{},"sourceType":"module"}