{"ast":null,"code":"import api from '../../services/api';\nimport { toastr } from 'react-redux-toastr';\nexport var Types = {\n  SIGNIN: \"account/SIGNIN\",\n  SIGNOUT: \"account/SIGNOUT\"\n};\nvar INITIAL_STATE = {\n  isAuthenticated: false\n};\nexport default function account() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case Types.SIGNIN:\n      return api.post('/account/signin', {\n        email: action.payload.email,\n        password: action.payload.password\n      }).then(function (res) {\n        localStorage.setItem('wiser-token', res.data.token);\n        window.location.pathname = '/add';\n      })[\"catch\"](function (error) {\n        var data = JSON.parse(JSON.stringify(error.response));\n        toastr.error('Conta', data.data.message);\n      });\n      break;\n\n    case Types.SIGNOUT:\n      break;\n\n    default:\n      break;\n  }\n}\nexport var Creators = {\n  signin: function signin(email, password) {\n    return {\n      type: Types.SIGNIN,\n      payload: {\n        email: email,\n        password: password\n      }\n    };\n  }\n};","map":{"version":3,"sources":["F:/github/nextjs/chalenge-wiser-react-ts/src/store/ducks/account.ts"],"names":["api","toastr","Types","SIGNIN","SIGNOUT","INITIAL_STATE","isAuthenticated","account","state","action","type","post","email","payload","password","then","res","localStorage","setItem","data","token","window","location","pathname","error","JSON","parse","stringify","response","message","Creators","signin"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,OAAO,IAAMC,KAAK,GAAG;AACjBC,EAAAA,MAAM,EAAE,gBADS;AAEjBC,EAAAA,OAAO,EAAE;AAFQ,CAAd;AASP,IAAMC,aAAwB,GAAG;AAC7BC,EAAAA,eAAe,EAAE;AADY,CAAjC;AAIA,eAAe,SAASC,OAAT,GAAgD;AAAA,MAA/BC,KAA+B,uEAAvBH,aAAuB;AAAA,MAARI,MAAQ;;AAC3D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,KAAK,CAACC,MAAX;AAEI,aAAOH,GAAG,CACLW,IADE,CACG,iBADH,EACsB;AAAEC,QAAAA,KAAK,EAAEH,MAAM,CAACI,OAAP,CAAeD,KAAxB;AAA+BE,QAAAA,QAAQ,EAAEL,MAAM,CAACI,OAAP,CAAeC;AAAxD,OADtB,EAEFC,IAFE,CAEG,UAAAC,GAAG,EAAI;AACTC,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,GAAG,CAACG,IAAJ,CAASC,KAA7C;AAEAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,MAA3B;AACH,OANE,WAOI,UAAAC,KAAK,EAAI;AACZ,YAAML,IAAI,GAAGM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,KAAK,CAACI,QAArB,CAAX,CAAb;AACA3B,QAAAA,MAAM,CAACuB,KAAP,CAAa,OAAb,EAAsBL,IAAI,CAACA,IAAL,CAAUU,OAAhC;AACH,OAVE,CAAP;AAYA;;AACJ,SAAK3B,KAAK,CAACE,OAAX;AACI;;AACJ;AACI;AAnBR;AAqBH;AAED,OAAO,IAAM0B,QAAQ,GAAG;AACpBC,EAAAA,MAAM,EAAE,gBAACnB,KAAD,EAAQE,QAAR;AAAA,WAAsB;AAC1BJ,MAAAA,IAAI,EAAER,KAAK,CAACC,MADc;AAE1BU,MAAAA,OAAO,EAAE;AACLD,QAAAA,KAAK,EAALA,KADK;AACEE,QAAAA,QAAQ,EAARA;AADF;AAFiB,KAAtB;AAAA;AADY,CAAjB","sourcesContent":["import api from '../../services/api';\r\nimport { toastr } from 'react-redux-toastr'\r\n\r\nexport const Types = {\r\n    SIGNIN: \"account/SIGNIN\",\r\n    SIGNOUT: \"account/SIGNOUT\",\r\n}\r\n\r\ninterface IAppState {\r\n    isAuthenticated: boolean;\r\n}\r\n\r\nconst INITIAL_STATE: IAppState = {\r\n    isAuthenticated: false\r\n};\r\n\r\nexport default function account(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case Types.SIGNIN:\r\n\r\n            return api\r\n                .post('/account/signin', { email: action.payload.email, password: action.payload.password })\r\n                .then(res => {\r\n                    localStorage.setItem('wiser-token', res.data.token);\r\n\r\n                    window.location.pathname = '/add';\r\n                })\r\n                .catch(error => {\r\n                    const data = JSON.parse(JSON.stringify(error.response));\r\n                    toastr.error('Conta', data.data.message);\r\n                });\r\n\r\n            break;\r\n        case Types.SIGNOUT:\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport const Creators = {\r\n    signin: (email, password) => ({\r\n        type: Types.SIGNIN,\r\n        payload: {\r\n            email, password\r\n        }\r\n    })\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}