{"ast":null,"code":"import api from '../../services/api';\nimport { signin } from '../ducks/account';\nimport { actions as notifActions } from 'redux-notifications';\nconst {\n  notifSend\n} = notifActions;\nexport function authLogin(user) {\n  return function (dispatch) {\n    return api.post('/account/signin', user).then(res => {\n      localStorage.setItem('wiser-token', res.data.token);\n      dispatch(signin());\n      window.location.pathname = '/add';\n    }).catch(error => {\n      const data = JSON.parse(JSON.stringify(error.response));\n      dispatch(notifSend({\n        message: data.data.message,\n        kind: 'info',\n        dismissAfter: 2000\n      }));\n    });\n  };\n}","map":{"version":3,"sources":["F:/github/nextjs/chalenge-wiser-react-ts/src/store/fetchActions/accountActions.ts"],"names":["api","signin","actions","notifActions","notifSend","authLogin","user","dispatch","post","then","res","localStorage","setItem","data","token","window","location","pathname","catch","error","JSON","parse","stringify","response","message","kind","dismissAfter"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,SAAkCC,OAAO,IAAIC,YAA7C,QAAyE,qBAAzE;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAgBD,YAAtB;AAEA,OAAO,SAASE,SAAT,CAAmBC,IAAnB,EAAyB;AAC/B,SAAO,UAAUC,QAAV,EAAoB;AAC1B,WAAOP,GAAG,CACRQ,IADK,CACA,iBADA,EACmBF,IADnB,EAELG,IAFK,CAEAC,GAAG,IAAI;AACZC,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,GAAG,CAACG,IAAJ,CAASC,KAA7C;AACAP,MAAAA,QAAQ,CAACN,MAAM,EAAP,CAAR;AAEAc,MAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,MAA3B;AACA,KAPK,EAQLC,KARK,CAQCC,KAAK,IAAI;AACf,YAAMN,IAAI,GAAGO,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,KAAK,CAACI,QAArB,CAAX,CAAb;AACAhB,MAAAA,QAAQ,CAACH,SAAS,CAAC;AAClBoB,QAAAA,OAAO,EAAEX,IAAI,CAACA,IAAL,CAAUW,OADD;AAElBC,QAAAA,IAAI,EAAE,MAFY;AAGlBC,QAAAA,YAAY,EAAE;AAHI,OAAD,CAAV,CAAR;AAKA,KAfK,CAAP;AAgBA,GAjBD;AAkBA","sourcesContent":["import api from '../../services/api';\r\nimport { signin } from '../ducks/account';\r\nimport { reducer as notifReducer, actions as notifActions, Notifs } from 'redux-notifications';\r\nconst { notifSend } = notifActions;\r\n\r\nexport function authLogin(user) {\r\n\treturn function (dispatch) {\r\n\t\treturn api\r\n\t\t\t.post('/account/signin', user)\r\n\t\t\t.then(res => {\r\n\t\t\t\tlocalStorage.setItem('wiser-token', res.data.token);\r\n\t\t\t\tdispatch(signin());\r\n\r\n\t\t\t\twindow.location.pathname = '/add';\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconst data = JSON.parse(JSON.stringify(error.response));\r\n\t\t\t\tdispatch(notifSend({\r\n\t\t\t\t\tmessage: data.data.message,\r\n\t\t\t\t\tkind: 'info',\r\n\t\t\t\t\tdismissAfter: 2000\r\n\t\t\t\t  }));\r\n\t\t\t});\r\n\t};\r\n}\r\n"]},"metadata":{},"sourceType":"module"}