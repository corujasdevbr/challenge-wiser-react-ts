{"ast":null,"code":"import _slicedToArray from \"F:/github/nextjs/challenge-wiser-react-ts/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport api from '../../../services/api';\nimport { signin } from '../../ducks/account';\nimport { toastr } from 'react-redux-toastr';\nimport { token } from '../../../utils/constants';\nimport { useCookies } from \"react-cookie\";\nexport var AccountSignIn = function AccountSignIn(user) {\n  _s();\n\n  var _useCookies = useCookies([\"user\"]),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookie = _useCookies2[0],\n      setCookie = _useCookies2[1];\n\n  return function (dispatch) {\n    return api.post('/account/signin', user).then(function (res) {\n      setCookie(token, JSON.stringify(res.data.token), {\n        path: \"/\",\n        maxAge: 3600,\n        // Expires after 1hr\n        sameSite: true\n      });\n      dispatch(signin());\n      window.location.pathname = '/dashboard';\n    })[\"catch\"](function (error) {\n      toastr.error('Conta', error.response.data.message);\n    });\n  };\n};\n\n_s(AccountSignIn, \"rWtr2pzGlVObhxILlGDRXrEMlRk=\", false, function () {\n  return [useCookies];\n});\n\n_c = AccountSignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountSignIn\");","map":{"version":3,"sources":["F:/github/nextjs/challenge-wiser-react-ts/src/store/actions/account/index.ts"],"names":["api","signin","toastr","token","useCookies","AccountSignIn","user","cookie","setCookie","dispatch","post","then","res","JSON","stringify","data","path","maxAge","sameSite","window","location","pathname","error","response","message"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,uBAAhB;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,SAAQC,MAAR,QAAqB,oBAArB;AACA,SAAQC,KAAR,QAAoB,0BAApB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAAA;;AAAA,oBACPF,UAAU,CAAC,CAAC,MAAD,CAAD,CADH;AAAA;AAAA,MAC5BG,MAD4B;AAAA,MACpBC,SADoB;;AAGnC,SAAO,UAACC,QAAD,EAAc;AACjB,WAAOT,GAAG,CACLU,IADE,CACG,iBADH,EACsBJ,IADtB,EAEFK,IAFE,CAEG,UAACC,GAAD,EAAS;AACXJ,MAAAA,SAAS,CAACL,KAAD,EAAQU,IAAI,CAACC,SAAL,CAAeF,GAAG,CAACG,IAAJ,CAASZ,KAAxB,CAAR,EAAwC;AAC7Ca,QAAAA,IAAI,EAAE,GADuC;AAE7CC,QAAAA,MAAM,EAAE,IAFqC;AAE/B;AACdC,QAAAA,QAAQ,EAAE;AAHmC,OAAxC,CAAT;AAKAT,MAAAA,QAAQ,CAACR,MAAM,EAAP,CAAR;AAEAkB,MAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,YAA3B;AACH,KAXE,WAYI,UAACC,KAAD,EAAW;AACdpB,MAAAA,MAAM,CAACoB,KAAP,CAAa,OAAb,EAAsBA,KAAK,CAACC,QAAN,CAAeR,IAAf,CAAoBS,OAA1C;AACH,KAdE,CAAP;AAeH,GAhBD;AAiBH,CApBM;;GAAMnB,a;UACmBD,U;;;KADnBC,a","sourcesContent":["import api from '../../../services/api';\r\nimport { signin } from '../../ducks/account';\r\nimport {toastr} from 'react-redux-toastr'\r\nimport {token} from '../../../utils/constants'\r\nimport { useCookies } from \"react-cookie\"\r\n\r\nexport const AccountSignIn = (user) => {\r\n    const [cookie, setCookie] = useCookies([\"user\"])\r\n\r\n    return (dispatch) => {\r\n        return api\r\n            .post('/account/signin', user)\r\n            .then((res) => {\r\n                setCookie(token, JSON.stringify(res.data.token), {\r\n                    path: \"/\",\r\n                    maxAge: 3600, // Expires after 1hr\r\n                    sameSite: true,\r\n                  })\r\n                dispatch(signin());\r\n\r\n                window.location.pathname = '/dashboard';\r\n            })\r\n            .catch((error) => {\r\n                toastr.error('Conta', error.response.data.message)\r\n            });\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}